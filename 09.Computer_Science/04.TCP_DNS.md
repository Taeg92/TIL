# TCP DNS

   

  

### Goal

- [x] **네트워크란 무엇인가?**
- [x] **TCP와 UDP 차이점 이해하기.**
- [x] **DNS 조회 방식 이해하기.**
- [x] **DNS를 IP주소 대신 사용하는 이유 알아보기.**

   

   

## I. Network

> 네트워크란 무엇인가?

   

네트워크란 **정보 공유를 목적**으로 컴퓨터와 컴퓨터가 연결되어 형성된 망을 의미한다.

 '어떤 연결을 통해 컴퓨터의 자원을 공유하는 것'이라고 말하기도 하고 IEEE에서는 "몇 개의 독립적인 장치가 적절한 영역내에서 적당히 빠른 속도의 물리적 통신 채널을 통하여 서로가 직접 통신할 수 있도록 지원해 주는 데이타 통신 체계"라고 말입니다.

​    

#### 장점

- 파일공유를 통해 다른 네트워크에 있는 컴퓨터의 파일에 접근 할 수 있게됨
  - 미디어 스트리밍으로 사진, 음악 또는 비디오 등의 디지털 미디어를 네트워크를 통해 재생할 수 있게됨
  - 광대역 인터넷 연결을 공유할 수 있게되어 각 PC 마다 별도의 인터넷 계정을 구입할 필요가 없음.
- 무엇보다 인터넷에서 다른 사람과 만나 PC, 게임 콘솔 등을 통해 네트워크 게임을 즐길수 있습니다. 
- 또한 유선으로 책상에서만 PC 작업을 해야 한다는 제약조건이 있다면 무선전파를 이용한 무선 네트워크로 책상에서 벗어나 웹작업을 할수 있다는 큰 장점을 가지게 됩니다.

​     

#### 단점

- 단점으로는 바이러스나 악성코드, 원치 않는 정보를 받게 되며 해킹으로 인한 개인 정보 유출 
- 네트워크가 가능 해지면서 보안상의 문제점이 생기며 되며 무엇보다 데이터 변조가 가능하다라고 볼수 있겠습니다.

​    

  

## II.  TCP VS UDP

> TCP와 UDP의 차이점에 대해 알아보기.

  



### 1. TCP란?

  

TCP는 Trasmission Control Protocol의 약자이다.

데이터의 송수신을 위해 IP를 사용하는 프로토콜이며, TCP는 UDP의 비해서 복잡하지만 신뢰성이 높기 때문에 대부분 이 프로토콜을 사용한다.



TCP는 IP가 처리할 수 있도록 **데이터를 여러 개의 패킷으로 나누고 도착지에서는 완전한 데이터로 패킷들을 재조립** 해야 한다.



신뢰성이 있는것은 패킷의 분실이나 중복, 순서가 바뀌는 것 등의 문제를 해결해 주는 것입니다.



패킷이 전송된 것을 보장하기 위해서 TCP는 ACK(acknowledgment : 패킷을 받았다라고 응답하는 것)라는 것을 사용하여 패킷을 보냈는데도 상대 상대편에서 분실이 되어 데이터가 완벽하지 않을때 수신지에서 ACK를 보내 줄 때까지 다시 데이터를 보냅니다.

  

#### 특징

- TCP는 상위층이 넘겨준 데이터를 세그먼트라는 단위로 쪼개어 가공하고 하위층으로 넘겨주며 원래 IP에서 동작하도록 설계되었습니다 때문에 대부분읜 경우 하위층은 IP가 됩니다

- 이 자른 세그먼트에 순서를 부여하여 전송, 수신하여 순서가 뒤바뀌는 일이 없도록 하고 있으며 패킷이 왔다갔다하며 순번이 뒤바뀌는 경우에도 복구하여 **상위층이 신뢰할수 있는 연결방식**을 제공합니다
- TCP의 연결지향형 방식을 다른 말로 신뢰성 스트림 서비스라고 부릅니다

   



### 2. UDP란?

  

UDP는 User Datagram Protocol의 약자이다.

TCP와는 **다르게 데이터를 패킷으로 나누고 반대편에서 재조립하는 과정을 거치지 않으며** 수신지에서 제대로 받던 받지 않던 상관안하고 **데이터를 보내기만 합니다**.



또 목적지에 도달하려고 하지만 (Best-effort) 에러가 날 수도 있고 재전송이나, 순서 뒤바뀜에 대한 대체는 어플리케이션에서 처리해 주어야 합니다



그치만 **속도가 빠릅니다** 별도의 연결도 필요하지않고 ACK메시지를 통해서 확인을 받거나 하는것이 없기 때문에 TCP 프로토콜 보다는 더 빠른 속도를 낼수 있으며 이러한 빠른 속도로 UDP는 실시간 방송 등등등 사용을 하는데 데이터 처리가 신속하고 한 두장의 프레임이 빠저도 보정이 가능합니다.

   

#### 특징

  

- UDP는 TCP와 다르게 **비연결성**을 가지며 수신측이 제대로 도착하였는지 확인 여부를 보장하지 않는 **비신뢰성 서비스** 입니다 사용자 데이터를 데이터그램에 포함해 전송합니다



### TCP VS UDP



![](https://t1.daumcdn.net/cfile/tistory/232D0545586CAD7410)

   

|                      | TCP              | UDP                     |
| -------------------- | ---------------- | ----------------------- |
| 데이터 전송 단위     | 세그먼트         | 블록 형태의 다이어 그램 |
| 서비스 형태          | 연결형           | 비연결형                |
| 수신 순서            | 송신 순서와 동일 | 송신 순서와 불일치      |
| 오류 제어, 흐름 제어 | 있음             | 없음                    |
| 전송 속도            | UDP에 비해 느림  | TCP에 비해 빠름         |

   

  

## III. DNS

  

### 1. DNS란?

www.example.com과 같이 사람이 읽을 수 있는 이름을 192.0.2.1과 같은 숫자 IP 주소로 변환하여 컴퓨터가 서로 통신할 수 있도록 한다. 

인터넷의 DNS 시스템은 이름과 숫자 간의 매핑을 관리하여 마치 전화번호부와 같은 기능.

DNS 서버는 이름에 대한 요청을 IP 주소로 변환하여 최종 사용자가 도메인 이름을 웹 브라우저에 입력할 때 해당 사용자를 어떤 서버에 연결할 것인지를 제어한다. 이 요청을 쿼리라고 한다.



### 2.Domain 구조

- 인터넷상에서 사용되는 도메인은 전 세계적으로 고유하게 존재하는 이름
- 정해진 규칙 및 체계에 따라야 하며, 임의로 변경되거나 생성될 수 없음.
- 인터넷상의 모든 도메인은 ".(dot)" 또는 루트(root)라 불리는 도메인 아래에 그림과 같이 나무를 거꾸로 위치시킨 역트리(Inverted tree)구조로 계층적으로 구성되어 있음
- 루트 도메인 바로 아래의 단계를 1단계 도메인 또는 최상위도메인(TLD, Top Level Doamin)이라고 부르며, 그 다음 단계를 2단계 도메인(SLD, Second Level Domailn)이라고 함
- 도메인은 일반최상위도메인(gTLD: Generic Top Level Domain)과 국가최상위도메인(ccTLD: Country Code Top Level Domain)로 구분할 수 있으며 여기서 일반최상위도메인은 다시 스폰서도메인(Sponsored TLD)과 언스폰서도메인(Unsponsored TLD)으로 구분됩니다.



![](https://t1.daumcdn.net/cfile/tistory/997DA9405BDFB7B71E)

  

### 3. DNS 서비스 유형



#### 신뢰할 수 있는 DNS

- 개발자가 퍼블릭 DNS 이름을 관리하는 데 사용하는 업데이트 메커니즘을 제공하며, 이를 통해 DNS 쿼리에 응답하여 도메인 이름을 IP 주소로 변환
- 신뢰할 수 있는 DNS는 도메인에 대해 최종 권한이 있으며 재귀적 DNS 서버에 IP 주소 정보가 담긴 답을 제공할 책임이 있음



#### 재귀적 DNS

- 보통 클라이언트는 신뢰할 수 있는 DNS 서비스에 직접 쿼리를 수행하지 않고, 해석기 또는 재귀적 DNS 서비스라고 알려진 다른 유형의 DNS 서비스에 연결하는 경우가 일반적임.
- 재귀적 DNS 서비스는 호텔 컨시어지와 같은 역할
- DNS 레코드를 소유하고 있지 않지만 사용자를 대신해서 DNS 정보를 가져올 수 있는 중간자의 역할
- 일정 기간 동안 캐시된 또는 저장된 DNS 레퍼런스를 가지고 있는 경우, 소스 또는 IP 정보를 제공하여 DNS 쿼리에 답을 하거나, 해당 정보를 찾기 위해 쿼리를 하나 이상의 신뢰할 수 있는 DNS 서버에 전달.

  

### 4. DNS 동작 원리

  

![](https://t1.daumcdn.net/cfile/tistory/99C16C455BDFBB2A23)

1. 웹 브라우저에 www.naver.com을 입력하면 먼저 Local DNS에게 "www.naver.com"이라는 hostname"에 대한 IP 주소를 질의하여 Local DNS에 없으면 다른 DNS name 서버 정보를 받음(Root DNS 정보 전달 받음)

2. Root DNS 서버에 "www.naver.com" 질의

3. Root DNS 서버로 부터 "com 도메인"을 관리하는 TLD (Top-Level Domain) 이름 서버 정보 전달 받음

4. TLD에 "www.naver.com" 질의

5. TLD에서 "name.com" 관리하는 DNS 정보 전달

6. "naver.com" 도메인을 관리하는 DNS 서버에 "www.naver.com" 호스트네임에 대한 IP 주소 질의

7. Local DNS 서버에게 " www.naver.com에 대한 IP 주소는 222.122.195.6 응답 

8. Local DNS는 www.naver.com에 대한 IP 주소를 캐싱을 하고 IP 주소 정보 전달.

   

  

## IV. IP VS DNS

  

[DNS와 IP 내용](https://m.blog.naver.com/PostView.nhn?blogId=wow_press&logNo=221021838078&proxyReferer=https:%2F%2Fwww.google.com%2F)